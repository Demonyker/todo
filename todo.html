<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Hello, world!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  </head>
  <body>
     <script>
       //Првоеряем работу методов, запускать по одному лучше
       tags = [];
       // создаем готовый массив объектов
       Stroka = [
       {
         priority:"A",
         tags:["job", "important", "money"],
         text:"Create a to do list on javascrpit",
         date: new Date(2019, 3, 25)
       },
       {
         priority:"B",
         tags: ["breakfest", "food"],
         text:"Visit a McDonalds",
         date: new Date(2019, 3, 24)
       },
       {
         priority:"A",
         tags: ["science", "study", "institute"],
         text:"Do homework",
         date: new Date(2019, 3, 22)
       }
       ,{
         priority:"B",
         tags: ["study", "institute"],
         text:"attend a lecture",
         date: new Date(2019, 3, 23)
       }
       ];
        var sum = 0;
       //Создаем класс который будет работать со строками
       class Todo{
       //Фильтр который выводит строки только с определенным приоритетом
       filterByType(arr, typeP){
       return arr.filter(function(arr){
       return arr.priority === typeP
       });
       }
       //Два метода которые сортируют строки либо по приоритету, либо по дате
       //Их можно объединить в один, но так как у нас сортировка пока актуальна только по этим данным, я оставил так
       sortirovkaByP(arr){
        console.log( arr.sort(function (a, b) {
        if (a.priority > b.priority) {
       return 1;
         }
         if (a.priority < b.priority) {
       return -1;
          }

        return 0;
       }),)
       }
       sortirovkaByD(arr){
        console.log( arr.sort(function (a, b) {
        if (a.date > b.date) {
       return 1;
         }
         if (a.date < b.date) {
       return -1;
          }

        return 0;
       }),)
       }
       //Метод который добавляет строку
       addElem(arr, priority, tags, text, date){
        arr.push({
          priority: priority,
          tags: tags,
          text: text,
          date: date
        });
       }
       //Метод который удаляет строку
       deleteElem(arr, i){
        delete arr[i];
       }
       statistic(arr, item){
         arr.forEach(function(item){
           if(item === 'A'){
            return sum = sum + 1;
          }
         } );
       return sum;
       //Чувак я попытался поставить везде ретюрны, объявить переменную до класса
       //но он все равно не считает и выводит sum который был при объявлении
       //либо 0, либо undefined
      arr.reduce(function(sum, item){
         if (item === 'A'){
           return sum = sum + 1;
         } return sum;
       },0)
       return sum;
       }
       }
       var todolist = new Todo();
       console.log(todolist.statistic(Stroka, Stroka.priority));

     </script>
  </body>
</html>
